# Oracle Micro 서버용 환경 변수
# .env.micro

# === 필수 설정 ===
# Gemini AI API Key (Google AI Studio에서 발급)
GEMINI_API_KEY=your_gemini_api_key_here

# 서버 설정
NODE_ENV=production
PORT=3001

# === 데이터베이스 설정 ===
# SQLite 사용 (PostgreSQL 대신 메모리 절약)
DATABASE_URL="file:/app/data/criti-ai.db"

# === Redis 설정 ===
# 로컬 Redis (메모리 제한)
REDIS_URL=redis://redis:6379
REDIS_PASSWORD=

# === 메모리 최적화 설정 ===
# Node.js 힙 메모리 제한 (128MB)
NODE_OPTIONS=--max-old-space-size=128

# === 프론트엔드 연결 ===
# Vercel 배포 후 실제 URL로 변경
FRONTEND_URL=https://your-app.vercel.app

# === 로그 설정 ===
# 로그 레벨 (production에서는 error만)
LOG_LEVEL=error

# === 캐시 설정 ===
# 캐시 TTL (메모리 절약을 위해 짧게)
CACHE_TTL=3600

# === Rate Limiting ===
# API 요청 제한 (DDoS 방지)
RATE_LIMIT_MAX=50
RATE_LIMIT_WINDOW_MS=900000

# === 성능 최적화 ===
# 워커 프로세스 수 (1 CPU에 맞춤)
WORKER_PROCESSES=1

# 연결 풀 크기 제한
DB_POOL_MIN=1
DB_POOL_MAX=3

# === 모니터링 ===
# 헬스체크 간격 (초)
HEALTH_CHECK_INTERVAL=60

# === Oracle Cloud 설정 ===
# 서버 리전
CLOUD_REGION=ap-chuncheon-1

# === 보안 설정 ===
# JWT 시크릿 (랜덤 문자열)
JWT_SECRET=your_random_jwt_secret_here

# CORS 설정
CORS_ORIGIN=https://your-app.vercel.app

# === 선택적 설정 ===
# 도메인 (있는 경우)
DOMAIN=

# SSL 인증서 (Let's Encrypt)
SSL_EMAIL=your-email@example.com

# 백업 설정
BACKUP_ENABLED=false
BACKUP_INTERVAL=daily

# === 디버그 설정 (개발시만) ===
# DEBUG=true
# VERBOSE_LOGGING=false
